let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t?e.push(t):alert("Pokemon needs to be an object!")}function n(){return e}return{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector("ul"),i=document.createElement("li"),o=document.createElement("button");i.classList.add("list-group-item"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#modal"),o.innerText=t.name,o.classList.add("btn","btn-light","pokemon-list--btn"),i.appendChild(o),n.appendChild(i),function e(t,n){t.addEventListener("click",()=>{var e;let t,i,o,r,a,l;e=n,t=document.querySelector(".modal-title"),i=document.querySelector(".modal-body--height"),o=document.querySelector(".modal-body--weight"),r=document.querySelector(".modal-body--types"),a=document.querySelector(".modal-body--abilities"),l=document.querySelector(".modal-img"),t.innerText="",i.innerText="",o.innerText="",l.src="",r.innerText="",a.innerText="",pokemonRepository.loadDetails(e).then(function(){let n="",c="";e.types.forEach(e=>{n+=[`<li> ${e.type.name} </li>`]}),e.abilities.forEach(e=>{c+=[`<li> ${e.ability.name} </li>`]}),t.innerText=`#${e.id} ${e.name}`,i.innerText=`Height:  ${e.height/10} m`,o.innerText=`Weight:  ${e.weight/10} lbs`,l.src=e.imageUrl,r.innerHTML=n,a.innerHTML=c,function e(t){let n=[],i=[],o=document.querySelector(".modal-content");o.style.background="",t.types.forEach(e=>{i.push(e.type.name)});let r={water:"linear-gradient(to top, rgb(125, 157, 243), white)",fire:"linear-gradient(to top, rgb(207, 60, 34), white)",ground:"linear-gradient(to top, rgb(136, 115, 71), white)",grass:"linear-gradient(to top, rgb(81, 240, 81), white)",electric:"linear-gradient(to top, rgb(248, 238, 97), white)"};i.find(e=>{Object.entries(r).find(function(t){e===t[0]&&(n=t)})}),o.style.background=n[1]}(e)})})}(o,t)},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){console.log(e),t.id=e.id,t.name=e.name,t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(e){console.error(e)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});